"use strict";$(function(){let urlParams=new URLSearchParams(location.search);let id=urlParams.get("teamid");$("#teamSubmitBtn").hide();$("#teamCancelBtn").hide();$("#editMode").hide();$(".errorMsg").hide();$("#teamEditBtn").on("click",function(){$("#teamEditBtn").hide();$("#teamCancelBtn").show();$("#teamSubmitBtn").show();$("#teamName").prop("readonly",!1);$("#teamLeague").prop("disabled",!1);$("#managerName").prop("readonly",!1);$("#managerPhone").prop("readonly",!1);$("#minAge").prop("readonly",!1);$("#emailAddr").prop("readonly",!1);$("#maxAge").prop("readonly",!1);$("#maxTeamMembers").prop("disabled",!1);$("#teamGender").prop("disabled",!1);$("#editMode").show()});$("#teamCancelBtn").on("click",function(){$("#teamEditBtn").show();$("#teamCancelBtn").hide();$("#teamSubmitBtn").hide();$("#teamName").prop("readonly",!0);$("#teamLeague").prop("disabled",!0);$("#managerName").prop("readonly",!0);$("#managerPhone").prop("readonly",!0);$("#minAge").prop("readonly",!0);$("#emailAddr").prop("readonly",!0);$("#maxAge").prop("readonly",!0);$("#maxTeamMembers").prop("disabled",!0);$("#teamGender").prop("disabled",!0);$("#editMode").hide()});$.getJSON("/api/leagues",function(data){let leagues=data;for(let i=0;i<leagues.length;i++){let leaguesAll=leagues[i];let element=document.createElement("option");element.text=leaguesAll.Name;element.value=leaguesAll.Code;$("#teamLeague").append(element)}});function inputVal(){$(".errorMsg").hide().empty();if($("#teamName").val().trim()==""){$("#teamNameError").text("Team Name required");$("#teamNameError").show();return!1}
if($("#managerName").val().trim()==""){$("#managerNameError").text("Manager Name required");$("#managerNameError").show();return!1}
if($("#managerPhone").val().trim()==""){$("#managerPhoneError").text("Manager Phone required");$("#managerPhoneError").show();return!1}
if($("#minAge").val().trim()==""){$("#minAgeError").text("Minimum Age required");$("#minAgeError").show();return!1}
if($("#minAge").val().trim()<18){$("#minAgeError").text("Minimum Age must be greater than 18");$("#minAgeError").show();return!1}
if($("#emailAddr").val().trim()==""){$("#managerEmailError").text("Manager Email required");$("#managerEmailError").show();return!1}
if($("#maxAge").val().trim()==""){$("#maxAgeError").text("Maximum Age required");$("#maxAgeError").show();return!1}}
$("#teamSubmitBtn").on("click",sendForm);function sendForm(){let isOk=inputVal();if(isOk==!1){return}else{confirm("Are you sure you want to confirm these changes?");$.ajax({url:"/api/teams/",method:"PUT",dataType:"json",data:$("#editTeam").serialize()});alert("Band Info updated!")}}
$.getJSON("/api/teams/"+id,function(data){let team=data;$("#teamId").val(team.TeamId);$("#teamName").val(team.TeamName);$("#teamLeague").val(team.League);$("#managerName").val(team.ManagerName);$("#managerPhone").val(team.ManagerPhone);$("#emailAddr").val(team.ManagerEmail);$("#maxTeamMembers").val(team.MaxTeamMembers);$("#minAge").val(team.MinMemberAge);$("#maxAge").val(team.MaxMemberAge);$("#teamGender").val(team.TeamGender)})})